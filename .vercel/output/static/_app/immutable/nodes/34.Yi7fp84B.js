import{S as A,i as M,s as O,d as p,Q as B,o as I,p as S,v as J,b as P,D as w,h as V,e as g,f as y,k as j,j as k,l as R,O as F,m as Q,c as m,q as G,g as E,r as K,t as L,u as W,n as U,P as X,a as D,x as Y}from"../chunks/Dl-CPQHr.js";import{e as q}from"../chunks/r7f6XsU6.js";import"../chunks/IHki7fMi.js";import{p as N}from"../chunks/7RT03AxK.js";import{A as Z}from"../chunks/B8Bu-ZRe.js";import{P as $}from"../chunks/CX2dFVZc.js";import{t as x}from"../chunks/CyiEOXce.js";import{S as ee}from"../chunks/LTYTF5Sf.js";var te={};function z(_,e,s){const l=_.slice();return l[12]=e[s],l}function se(_){let e,s="<h1>Succesfully Connected to your presentation, Please move slide around</h1>";return{c(){e=k("div"),e.innerHTML=s,this.h()},l(l){e=g(l,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-tquokl"&&(e.innerHTML=s),this.h()},h(){w(e,"class","jumbotron svelte-1knskix")},m(l,o){P(l,e,o)},i:U,o:U,d(l){l&&p(e)}}}function re(_){let e,s,l,o,i;return o=new ee({}),{c(){e=k("div"),s=k("h1"),l=L("Connecting to your presentation "),W(o.$$.fragment),this.h()},l(n){e=g(n,"DIV",{class:!0});var u=y(e);s=g(u,"H1",{});var h=y(s);l=E(h,"Connecting to your presentation "),K(o.$$.fragment,h),h.forEach(p),u.forEach(p),this.h()},h(){w(e,"class","jumbotron svelte-1knskix")},m(n,u){P(n,e,u),m(e,s),m(s,l),G(o,s,null),i=!0},i(n){i||(S(o.$$.fragment,n),i=!0)},o(n){I(o.$$.fragment,n),i=!1},d(n){n&&p(e),Q(o)}}}function H(_){let e,s,l,o,i;return{c(){e=k("div"),s=k("h1"),l=L("Loading Verses... "),o=k("code"),i=L(_[2]),this.h()},l(n){e=g(n,"DIV",{class:!0});var u=y(e);s=g(u,"H1",{});var h=y(s);l=E(h,"Loading Verses... "),o=g(h,"CODE",{});var b=y(o);i=E(b,_[2]),b.forEach(p),h.forEach(p),u.forEach(p),this.h()},h(){w(e,"class","jumbotron svelte-1knskix")},m(n,u){P(n,e,u),m(e,s),m(s,l),m(s,o),m(o,i)},p(n,u){u&4&&D(i,n[2])},d(n){n&&p(e)}}}function T(_){let e,s=_[12].arabic+"",l,o,i=_[12].item.ref+"",n,u,h,b,a,v=_[4](_[12].item.ref).text+"",f,r;return{c(){e=k("li"),l=L(s),o=L(" - "),n=L(i),u=j(),h=k("br"),b=j(),a=k("div"),f=L(v),r=j(),this.h()},l(c){e=g(c,"LI",{class:!0});var t=y(e);l=E(t,s),o=E(t," - "),n=E(t,i),u=V(t),h=g(t,"BR",{}),b=V(t),a=g(t,"DIV",{class:!0});var d=y(a);f=E(d,v),d.forEach(p),r=V(t),t.forEach(p),this.h()},h(){w(a,"class","trans svelte-1knskix"),w(e,"class","svelte-1knskix")},m(c,t){P(c,e,t),m(e,l),m(e,o),m(e,n),m(e,u),m(e,h),m(e,b),m(e,a),m(a,f),m(e,r)},p(c,t){t&1&&s!==(s=c[12].arabic+"")&&D(l,s),t&1&&i!==(i=c[12].item.ref+"")&&D(n,i),t&1&&v!==(v=c[4](c[12].item.ref).text+"")&&D(f,v)},d(c){c&&p(e)}}}function ne(_){let e,s,l,o,i,n;const u=[re,se],h=[];function b(r,c){return r[1]?1:0}e=b(_),s=h[e]=u[e](_);let a=_[3]===1&&H(_),v=q(_[0]||[]),f=[];for(let r=0;r<v.length;r+=1)f[r]=T(z(_,v,r));return{c(){s.c(),l=j(),a&&a.c(),o=j(),i=k("ul");for(let r=0;r<f.length;r+=1)f[r].c();this.h()},l(r){s.l(r),l=V(r),a&&a.l(r),o=V(r),i=g(r,"UL",{class:!0});var c=y(i);for(let t=0;t<f.length;t+=1)f[t].l(c);c.forEach(p),this.h()},h(){w(i,"class","clean-list arabic-verses svelte-1knskix")},m(r,c){h[e].m(r,c),P(r,l,c),a&&a.m(r,c),P(r,o,c),P(r,i,c);for(let t=0;t<f.length;t+=1)f[t]&&f[t].m(i,null);n=!0},p(r,[c]){let t=e;if(e=b(r),e!==t&&(Y(),I(h[t],1,1,()=>{h[t]=null}),J(),s=h[e],s||(s=h[e]=u[e](r),s.c()),S(s,1),s.m(l.parentNode,l)),r[3]===1?a?a.p(r,c):(a=H(r),a.c(),a.m(o.parentNode,o)):a&&(a.d(1),a=null),c&17){v=q(r[0]||[]);let d;for(d=0;d<v.length;d+=1){const C=z(r,v,d);f[d]?f[d].p(C,c):(f[d]=T(C),f[d].c(),f[d].m(i,null))}for(;d<f.length;d+=1)f[d].d(1);f.length=v.length}},i(r){n||(S(s),n=!0)},o(r){I(s),n=!1},d(r){r&&(p(l),p(o),p(i)),h[e].d(r),a&&a.d(r),B(f,r)}}}function le(_,e,s){let l,o;R(_,N,t=>s(7,l=t)),R(_,x,t=>s(8,o=t));let i=[],n,u=null,h="",b=0,a="";const v=async()=>{try{const t=await fetch("/translations/english/urd-abulaalamaududi.json");if(!t.ok)throw new Error("Failed to fetch JSON data");x.set(await t.json()),console.log("translation loaded")}catch(t){console.error("Error fetching translation:",t)}};function f(t){return o?o.quran.find(d=>d.chapter===Number(t.split(":")[0])&&d.verse===Number(t.split(":")[1])):{text:""}}function r(){if(!a){console.error("baseURL not initialized yet");return}l.url.searchParams.get("code"),s(1,n=new $("31a3d875bb3c4cb1e303",{cluster:"us3",authEndpoint:a+"/pusher_jsonp_auth"})),u=n.subscribe("private-presentation-notes"),u.bind("client-slide-change",t=>{s(2,h=t.verses),c(h)}),console.log("Pusher initialized with baseURL:",a)}async function c(t){if(t){s(3,b=1);try{s(0,i=await Z.get("/quran/verses/"+t+"?includeTranslation=false&includeBlocks=false.json")),s(3,b=2)}catch(d){console.error("Error fetching verses:",d),s(3,b=0)}}}return F(async()=>(a=te.API_URL,console.log("baseURL initialized:",a),await v(),r(),()=>{u&&(u.unbind_all(),n&&n.unsubscribe("private-presentation-notes"))})),N.subscribe(t=>{a&&!u&&r()}),[i,n,h,b,f]}class de extends A{constructor(e){super(),M(this,e,le,ne,O,{})}}export{de as component};
