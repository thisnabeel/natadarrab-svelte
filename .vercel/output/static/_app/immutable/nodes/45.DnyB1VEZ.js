import{S as M,i as W,s as z,d as g,Q as O,o as x,p as j,v as Q,b as I,c as S,C as J,D as k,h as $,e as C,f as T,P as V,k as y,j as E,l as R,m as F,U as A,q as G,r as K,u as X,a as Y,g as Z,t as ee,x as te}from"../chunks/Dl-CPQHr.js";import{e as P}from"../chunks/r7f6XsU6.js";import"../chunks/IHki7fMi.js";import{E as ne}from"../chunks/DcIf67Qm.js";import{c as D}from"../chunks/xWa42MqU.js";function B(r,s,n){const l=r.slice();return l[10]=s[n],l[12]=n,l}function U(r,s,n){const l=r.slice();return l[10]=s[n],l[12]=n,l}function q(r){let s,n,l;return n=new ne({props:{index:r[12]}}),n.$on("ready",r[2]),{c(){s=E("div"),X(n.$$.fragment),this.h()},l(o){s=C(o,"DIV",{class:!0});var a=T(s);K(n.$$.fragment,a),a.forEach(g),this.h()},h(){k(s,"class","excalidraw-container svelte-1swk1vj"),A(s,"hidden",r[1]!==r[12])},m(o,a){I(o,s,a),G(n,s,null),l=!0},p(o,a){(!l||a&2)&&A(s,"hidden",o[1]!==o[12])},i(o){l||(j(n.$$.fragment,o),l=!0)},o(o){x(n.$$.fragment,o),l=!1},d(o){o&&g(s),F(n)}}}function H(r){let s,n=r[10].id+"",l,o,a,v;function m(){return r[5](r[12])}return{c(){s=E("button"),l=ee(n),this.h()},l(u){s=C(u,"BUTTON",{class:!0});var d=T(s);l=Z(d,n),d.forEach(g),this.h()},h(){k(s,"class",o="page-button "+(r[1]===r[12]?"active":"")+" svelte-1swk1vj")},m(u,d){I(u,s,d),S(s,l),a||(v=J(s,"click",m),a=!0)},p(u,d){r=u,d&1&&n!==(n=r[10].id+"")&&Y(l,n),d&2&&o!==(o="page-button "+(r[1]===r[12]?"active":"")+" svelte-1swk1vj")&&k(s,"class",o)},d(u){u&&g(s),a=!1,v()}}}function le(r){let s,n,l,o,a,v="+",m,u,d="",b,N,_,p=P(r[0]),c=[];for(let t=0;t<p.length;t+=1)c[t]=q(U(r,p,t));const L=t=>x(c[t],1,1,()=>{c[t]=null});let w=P(r[0]),f=[];for(let t=0;t<w.length;t+=1)f[t]=H(B(r,w,t));return{c(){for(let t=0;t<c.length;t+=1)c[t].c();s=y(),n=E("nav"),l=E("div");for(let t=0;t<f.length;t+=1)f[t].c();o=y(),a=E("button"),a.textContent=v,m=y(),u=E("div"),u.innerHTML=d,this.h()},l(t){for(let h=0;h<c.length;h+=1)c[h].l(t);s=$(t),n=C(t,"NAV",{class:!0});var i=T(n);l=C(i,"DIV",{class:!0});var e=T(l);for(let h=0;h<f.length;h+=1)f[h].l(e);o=$(e),a=C(e,"BUTTON",{class:!0,"data-svelte-h":!0}),V(a)!=="svelte-1dl0ud7"&&(a.textContent=v),e.forEach(g),m=$(i),u=C(i,"DIV",{class:!0,"data-svelte-h":!0}),V(u)!=="svelte-1cazx0"&&(u.innerHTML=d),i.forEach(g),this.h()},h(){k(a,"class","svelte-1swk1vj"),k(l,"class","pages"),k(u,"class","controls"),k(n,"class","svelte-1swk1vj")},m(t,i){for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(t,i);I(t,s,i),I(t,n,i),S(n,l);for(let e=0;e<f.length;e+=1)f[e]&&f[e].m(l,null);S(l,o),S(l,a),S(n,m),S(n,u),b=!0,N||(_=J(a,"click",r[3]),N=!0)},p(t,[i]){if(i&7){p=P(t[0]);let e;for(e=0;e<p.length;e+=1){const h=U(t,p,e);c[e]?(c[e].p(h,i),j(c[e],1)):(c[e]=q(h),c[e].c(),j(c[e],1),c[e].m(s.parentNode,s))}for(te(),e=p.length;e<c.length;e+=1)L(e);Q()}if(i&19){w=P(t[0]);let e;for(e=0;e<w.length;e+=1){const h=B(t,w,e);f[e]?f[e].p(h,i):(f[e]=H(h),f[e].c(),f[e].m(l,o))}for(;e<f.length;e+=1)f[e].d(1);f.length=w.length}},i(t){if(!b){for(let i=0;i<p.length;i+=1)j(c[i]);b=!0}},o(t){c=c.filter(Boolean);for(let i=0;i<c.length;i+=1)x(c[i]);b=!1},d(t){t&&(g(s),g(n)),O(c,t),O(f,t),N=!1,_()}}}function se(r,s,n){let l;R(r,D,_=>n(1,l=_));let o,a=[{id:1,content:null}];function v(_){o=_.detail,m()}function m(){a[l].content?o.updateScene(JSON.parse(a[l].content)):o.updateScene({elements:[],appState:{}})}async function u(){if(o){const _=o.getSceneElements(),p=o.getAppState(),c={elements:_,appState:p};n(0,a[l].content=JSON.stringify(c),a),n(0,a)}}function d(){u(),n(0,a=[...a,{id:a.length+1,content:null}]),D.set(a.length-1)}function b(_){u(),D.set(_),m()}return[a,l,v,d,b,_=>b(_)]}class ue extends M{constructor(s){super(),W(this,s,se,le,z,{})}}export{ue as component};
