import{S as Se,i as Ie,s as Ce,n as Q,d as m,U as D,b as v,c as U,D as O,e as E,f as L,E as X,h as T,j as S,H as Z,k as V,Q as H,w as F,a1 as Le,a as R,C as A,g as G,t as M,$ as x,V as Oe,a0 as Ue,o as W,p as K,x as ze,v as Te,l as Ve,P as y,m as De,q as Ne,r as je,u as Be}from"./Dl-CPQHr.js";import{e as N}from"./r7f6XsU6.js";import"./IHki7fMi.js";import{S as ee}from"./PgFobZ3G.js";import{A as Pe}from"./B8Bu-ZRe.js";import{u as le}from"./XqiliRdc.js";function qe(l){for(let e=l.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[l[e],l[s]]=[l[s],l[e]]}return l}function te(l,e,s){const t=l.slice();return t[16]=e[s],t[21]=e,t[18]=s,t}function se(l,e,s){const t=l.slice();return t[22]=e[s],t[24]=s,t}function oe(l,e,s){const t=l.slice();return t[16]=e[s],t[18]=s,t}function ne(l,e,s){const t=l.slice();return t[19]=e[s],t[18]=s,t}function ie(l,e,s){const t=l.slice();return t[16]=e[s],t}function re(l){let e,s=N(Object.entries(l[6].choices).map(de)||[]),t=[];for(let o=0;o<s.length;o+=1)t[o]=ce(ie(l,s,o));return{c(){e=S("ul");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=E(o,"UL",{class:!0});var n=L(e);for(let r=0;r<t.length;r+=1)t[r].l(n);n.forEach(m),this.h()},h(){O(e,"class","clean-list choices")},m(o,n){v(o,e,n);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(o,n){if(n&87){s=N(Object.entries(o[6].choices).map(de)||[]);let r;for(r=0;r<s.length;r+=1){const _=ie(o,s,r);t[r]?t[r].p(_,n):(t[r]=ce(_),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=s.length}},d(o){o&&m(e),H(t,o)}}}function ce(l){let e,s=l[16].answer+"",t,o,n,r,_;function f(){return l[9](l[16])}return{c(){e=S("li"),t=M(s),o=V(),this.h()},l(a){e=E(a,"LI",{class:!0});var i=L(e);t=G(i,s),o=T(i),i.forEach(m),this.h()},h(){O(e,"class",n="choice "+l[4]+" svelte-13obb53"),D(e,"selected",l[2]?l[2].id===l[16].id:!1)},m(a,i){v(a,e,i),U(e,t),U(e,o),r||(_=A(e,"click",f),r=!0)},p(a,i){l=a,i&64&&s!==(s=l[16].answer+"")&&R(t,s),i&16&&n!==(n="choice "+l[4]+" svelte-13obb53")&&O(e,"class",n),i&84&&D(e,"selected",l[2]?l[2].id===l[16].id:!1)},d(a){a&&m(e),r=!1,_()}}}function fe(l){let e;function s(n,r){return n[6].selection_style==="blockable"?He:Ae}let t=s(l),o=t(l);return{c(){o.c(),e=F()},l(n){o.l(n),e=F()},m(n,r){o.m(n,r),v(n,e,r)},p(n,r){t===(t=s(n))&&o?o.p(n,r):(o.d(1),o=t(n),o&&(o.c(),o.m(e.parentNode,e)))},d(n){n&&m(e),o.d(n)}}}function Ae(l){let e,s=N(l[6].selectors||[]),t=[];for(let o=0;o<s.length;o+=1)t[o]=ue(te(l,s,o));return{c(){e=S("ul");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=E(o,"UL",{class:!0});var n=L(e);for(let r=0;r<t.length;r+=1)t[r].l(n);n.forEach(m),this.h()},h(){O(e,"class","clean-list horizontal-list")},m(o,n){v(o,e,n);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(o,n){if(n&75){s=N(o[6].selectors||[]);let r;for(r=0;r<s.length;r+=1){const _=te(o,s,r);t[r]?t[r].p(_,n):(t[r]=ue(_),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=s.length}},d(o){o&&m(e),H(t,o)}}}function He(l){let e,s,t,o,n,r=N(l[5]),_=[];for(let i=0;i<r.length;i+=1)_[i]=he(ne(l,r,i));let f=N([...new Set([].concat(...l[6].selectors.map(me)))].filter(pe)||[]),a=[];for(let i=0;i<f.length;i+=1)a[i]=_e(oe(l,f,i));return{c(){e=S("ul");for(let i=0;i<_.length;i+=1)_[i].c();s=V(),t=S("hr"),o=V(),n=S("ul");for(let i=0;i<a.length;i+=1)a[i].c();this.h()},l(i){e=E(i,"UL",{class:!0});var h=L(e);for(let g=0;g<_.length;g+=1)_[g].l(h);h.forEach(m),s=T(i),t=E(i,"HR",{}),o=T(i),n=E(i,"UL",{class:!0});var c=L(n);for(let g=0;g<a.length;g+=1)a[g].l(c);c.forEach(m),this.h()},h(){O(e,"class","clean-list horizontal-list selected svelte-13obb53"),O(n,"class","clean-list horizontal-list")},m(i,h){v(i,e,h);for(let c=0;c<_.length;c+=1)_[c]&&_[c].m(e,null);v(i,s,h),v(i,t,h),v(i,o,h),v(i,n,h);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(n,null)},p(i,h){if(h&33){r=N(i[5]);let c;for(c=0;c<r.length;c+=1){const g=ne(i,r,c);_[c]?_[c].p(g,h):(_[c]=he(g),_[c].c(),_[c].m(e,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=r.length}if(h&96){f=N([...new Set([].concat(...i[6].selectors.map(me)))].filter(pe)||[]);let c;for(c=0;c<f.length;c+=1){const g=oe(i,f,c);a[c]?a[c].p(g,h):(a[c]=_e(g),a[c].c(),a[c].m(n,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=f.length}},d(i){i&&(m(e),m(s),m(t),m(o),m(n)),H(_,i),H(a,i)}}}function ae(l){let e,s=l[22]+"",t;return{c(){e=S("option"),t=M(s),this.h()},l(o){e=E(o,"OPTION",{});var n=L(e);t=G(n,s),n.forEach(m),this.h()},h(){e.__value=l[24],Oe(e,e.__value)},m(o,n){v(o,e,n),U(e,t)},p(o,n){n&64&&s!==(s=o[22]+"")&&R(t,s)},d(o){o&&m(e)}}}function ue(l){let e,s,t,o,n,r,_=N(l[16].options||[]),f=[];for(let i=0;i<_.length;i+=1)f[i]=ae(se(l,_,i));function a(){l[14].call(s,l[18])}return{c(){e=S("li"),s=S("select"),t=S("option");for(let i=0;i<f.length;i+=1)f[i].c();o=V(),this.h()},l(i){e=E(i,"LI",{});var h=L(e);s=E(h,"SELECT",{name:!0,id:!0,class:!0});var c=L(s);t=E(c,"OPTION",{}),L(t).forEach(m);for(let g=0;g<f.length;g+=1)f[g].l(c);c.forEach(m),o=T(h),h.forEach(m),this.h()},h(){t.__value="-1",Oe(t,t.__value),s.disabled=l[1],O(s,"name",""),O(s,"id",""),O(s,"class","svelte-13obb53"),l[3][l[18]]===void 0&&Ue(a),D(s,"correct",l[0].selectors[l[18]].correct===l[3][l[18]]),D(s,"incorrect",l[0].selectors[l[18]].correct!==l[3][l[18]])},m(i,h){v(i,e,h),U(e,s),U(s,t);for(let c=0;c<f.length;c+=1)f[c]&&f[c].m(s,null);x(s,l[3][l[18]],!0),U(e,o),n||(r=A(s,"change",a),n=!0)},p(i,h){if(l=i,h&64){_=N(l[16].options||[]);let c;for(c=0;c<_.length;c+=1){const g=se(l,_,c);f[c]?f[c].p(g,h):(f[c]=ae(g),f[c].c(),f[c].m(s,null))}for(;c<f.length;c+=1)f[c].d(1);f.length=_.length}h&2&&(s.disabled=l[1]),h&8&&x(s,l[3][l[18]]),h&9&&D(s,"correct",l[0].selectors[l[18]].correct===l[3][l[18]]),h&9&&D(s,"incorrect",l[0].selectors[l[18]].correct!==l[3][l[18]])},d(i){i&&m(e),H(f,i),n=!1,r()}}}function he(l){let e,s=l[19]+"",t,o,n,r;function _(){return l[10](l[19])}function f(...i){return l[11](l[19],...i)}function a(...i){return l[12](l[19],...i)}return{c(){e=S("li"),t=M(s),o=V(),this.h()},l(i){e=E(i,"LI",{class:!0});var h=L(e);t=G(h,s),o=T(h),h.forEach(m),this.h()},h(){O(e,"class","selector_block svelte-13obb53"),D(e,"correct",l[0].selectors[l[18]]?l[0].selectors[l[18]].correct===l[0].selectors[l[18]].options.indexOf(l[0].selectors[l[18]].options.find(f)):!1),D(e,"incorrect",l[0].selectors[l[18]]?l[0].selectors[l[18]].correct!==l[0].selectors[l[18]].options.indexOf(l[0].selectors[l[18]].options.find(a)):!0)},m(i,h){v(i,e,h),U(e,t),U(e,o),n||(r=A(e,"click",_),n=!0)},p(i,h){l=i,h&32&&s!==(s=l[19]+"")&&R(t,s),h&33&&D(e,"correct",l[0].selectors[l[18]]?l[0].selectors[l[18]].correct===l[0].selectors[l[18]].options.indexOf(l[0].selectors[l[18]].options.find(f)):!1),h&33&&D(e,"incorrect",l[0].selectors[l[18]]?l[0].selectors[l[18]].correct!==l[0].selectors[l[18]].options.indexOf(l[0].selectors[l[18]].options.find(a)):!0)},d(i){i&&m(e),n=!1,r()}}}function _e(l){let e,s=l[16]+"",t,o,n,r;function _(){return l[13](l[16])}return{c(){e=S("li"),t=M(s),o=V(),this.h()},l(f){e=E(f,"LI",{class:!0});var a=L(e);t=G(a,s),o=T(a),a.forEach(m),this.h()},h(){O(e,"class","selector_block svelte-13obb53")},m(f,a){v(f,e,a),U(e,t),U(e,o),n||(r=A(e,"click",_),n=!0)},p(f,a){l=f,a&64&&s!==(s=l[16]+"")&&R(t,s)},d(f){f&&m(e),n=!1,r()}}}function Fe(l){let e,s,t,o,n=l[6].question+"",r,_,f=l[6].choices&&re(l),a=l[6].selectors&&fe(l);return{c(){e=S("li"),s=S("div"),t=S("h3"),o=new Z(!1),r=V(),f&&f.c(),_=V(),a&&a.c(),this.h()},l(i){e=E(i,"LI",{class:!0});var h=L(e);s=E(h,"DIV",{});var c=L(s);t=E(c,"H3",{class:!0});var g=L(t);o=X(g,!1),g.forEach(m),c.forEach(m),r=T(h),f&&f.l(h),_=T(h),a&&a.l(h),h.forEach(m),this.h()},h(){o.a=null,O(t,"class","prompt svelte-13obb53"),O(e,"class","question svelte-13obb53"),D(e,"show-status",l[1])},m(i,h){v(i,e,h),U(e,s),U(s,t),o.m(n,t),U(e,r),f&&f.m(e,null),U(e,_),a&&a.m(e,null)},p(i,[h]){h&64&&n!==(n=i[6].question+"")&&o.p(n),i[6].choices?f?f.p(i,h):(f=re(i),f.c(),f.m(e,_)):f&&(f.d(1),f=null),i[6].selectors?a?a.p(i,h):(a=fe(i),a.c(),a.m(e,null)):a&&(a.d(1),a=null),h&2&&D(e,"show-status",i[1])},i:Q,o:Q,d(i){i&&m(e),f&&f.d(),a&&a.d()}}}const de=([l,e])=>({...e,id:l}),me=l=>l.options,pe=l=>l.length>0;function Qe(l,e,s){let t,{question:o}=e,{showStatus:n}=e,{sendStatusUp:r}=e,{percentage:_}=e,f,a,i={};function h(d,k,Y){if(Y){if(k.selected)return console.log("com",k.selected),console.log("answer",k.correct),k.correct===k.selected?(r({question:k,choice:f,status:!0}),"correct"):(r({question:k,choice:f,status:!1}),"incorrect");if(t.selectors)if(t.selection_style==="blockable"){console.log("BLOCAKBLE TEST");for(let B=0;B<k.selectors.length;B++){let z=c[B],u=k.selectors[B];if(!z)return r({question:k,choice:i,status:!1}),"incorrect";let p=k.selectors[B].options.find(w=>w===z);if(p){if(console.log(u,p),u.correct!==u.options.indexOf(p))return r({question:k,choice:i,status:!1}),"incorrect"}else return r({question:k,choice:i,status:!1}),"incorrect"}return r({question:k,choice:i,status:!0}),"correct"}else return t.selectors.forEach((B,z)=>{if(k.selectors[z].correct!==i[z])return r({question:k,choice:i,status:!1}),"incorrect"}),r({question:k,choice:i,status:!0}),"correct";return r({question:k,status:!1}),"incorrect"}return""}let c=[];const g=d=>{n||(s(2,f=d),s(0,o.selected=f.id,o))},P=d=>{s(5,c=c.filter(k=>k!==d))},b=(d,k)=>k===d,I=(d,k)=>k===d,C=d=>{console.log(d),s(5,c=[...c,d])};function j(d){i[d]=Le(this),s(3,i)}return l.$$set=d=>{"question"in d&&s(0,o=d.question),"showStatus"in d&&s(1,n=d.showStatus),"sendStatusUp"in d&&s(7,r=d.sendStatusUp),"percentage"in d&&s(8,_=d.percentage)},l.$$.update=()=>{l.$$.dirty&1&&s(6,t=o),l.$$.dirty&5&&f&&console.log(o),l.$$.dirty&8&&console.log(i),l.$$.dirty&7&&s(4,a=h(f,o,n))},[o,n,f,i,a,c,t,r,_,g,P,b,I,C,j]}class Re extends Se{constructor(e){super(),Ie(this,e,Qe,Fe,Ce,{question:0,showStatus:1,sendStatusUp:7,percentage:8})}}function ge(l,e,s){const t=l.slice();return t[12]=e[s],t}function be(l){let e,s="Show Tutorial Video",t,o;return{c(){e=S("div"),e.textContent=s,this.h()},l(n){e=E(n,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-77tqex"&&(e.textContent=s),this.h()},h(){O(e,"class","btn btn-outline-info")},m(n,r){v(n,e,r),t||(o=A(e,"click",l[7]),t=!0)},p:Q,d(n){n&&m(e),t=!1,o()}}}function ve(l){let e,s=l[0].video&&ke(l);return{c(){s&&s.c(),e=F()},l(t){s&&s.l(t),e=F()},m(t,o){s&&s.m(t,o),v(t,e,o)},p(t,o){t[0].video?s?s.p(t,o):(s=ke(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},d(t){t&&m(e),s&&s.d(t)}}}function ke(l){let e,s=l[0].video+"",t;return{c(){e=new Z(!1),t=F(),this.h()},l(o){e=X(o,!1),t=F(),this.h()},h(){e.a=t},m(o,n){e.m(s,o,n),v(o,t,n)},p(o,n){n&1&&s!==(s=o[0].video+"")&&e.p(s)},d(o){o&&(m(t),e.d())}}}function we(l){let e,s,t=l[0].description+"";return{c(){e=S("div"),s=new Z(!1),this.h()},l(o){e=E(o,"DIV",{class:!0});var n=L(e);s=X(n,!1),n.forEach(m),this.h()},h(){s.a=null,O(e,"class","description svelte-jz5aiz")},m(o,n){v(o,e,n),s.m(t,e)},p(o,n){n&1&&t!==(t=o[0].description+"")&&s.p(t)},d(o){o&&m(e)}}}function Ee(l){let e,s;return e=new Re({props:{question:l[12],showStatus:l[1],percentage:l[2],sendStatusUp:l[6]}}),{c(){Be(e.$$.fragment)},l(t){je(e.$$.fragment,t)},m(t,o){Ne(e,t,o),s=!0},p(t,o){const n={};o&1&&(n.question=t[12]),o&2&&(n.showStatus=t[1]),o&4&&(n.percentage=t[2]),e.$set(n)},i(t){s||(K(e.$$.fragment,t),s=!0)},o(t){W(e.$$.fragment,t),s=!1},d(t){De(e,t)}}}function Ge(l){let e,s="Submit",t,o;return{c(){e=S("div"),e.textContent=s,this.h()},l(n){e=E(n,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-azp4h3"&&(e.textContent=s),this.h()},h(){O(e,"class","btn btn-outline-primary btn-lg")},m(n,r){v(n,e,r),t||(o=A(e,"click",l[4]),t=!0)},p:Q,d(n){n&&m(e),t=!1,o()}}}function Me(l){let e,s="Retry",t,o;return{c(){e=S("div"),e.textContent=s,this.h()},l(n){e=E(n,"DIV",{class:!0,"data-svelte-h":!0}),y(e)!=="svelte-1kgqs32"&&(e.textContent=s),this.h()},h(){O(e,"class","btn btn-warning btn-lg")},m(n,r){v(n,e,r),t||(o=A(e,"click",l[5]),t=!0)},p:Q,d(n){n&&m(e),t=!1,o()}}}function Ye(l){let e,s,t=l[0].title+"",o,n,r,_,f,a,i,h,c,g,P,b=l[0].video&&!l[3]&&be(l),I=l[3]&&ve(l),C=l[0].description.length>50&&we(l),j=N(l[0].folder.questions.slice(0,3)||[]),d=[];for(let u=0;u<j.length;u+=1)d[u]=Ee(ge(l,j,u));const k=u=>W(d[u],1,1,()=>{d[u]=null});function Y(u,p){return u[1]?Me:Ge}let B=Y(l),z=B(l);return{c(){e=S("div"),s=S("h1"),o=M(t),n=V(),r=S("br"),_=V(),b&&b.c(),f=V(),I&&I.c(),a=V(),C&&C.c(),i=V(),h=S("div"),c=S("ol");for(let u=0;u<d.length;u+=1)d[u].c();g=V(),z.c(),this.h()},l(u){e=E(u,"DIV",{class:!0});var p=L(e);s=E(p,"H1",{});var w=L(s);o=G(w,t),w.forEach(m),p.forEach(m),n=T(u),r=E(u,"BR",{}),_=T(u),b&&b.l(u),f=T(u),I&&I.l(u),a=T(u),C&&C.l(u),i=T(u),h=E(u,"DIV",{class:!0});var q=L(h);c=E(q,"OL",{class:!0});var $=L(c);for(let J=0;J<d.length;J+=1)d[J].l($);$.forEach(m),g=T(q),z.l(q),q.forEach(m),this.h()},h(){O(e,"class","title svelte-jz5aiz"),O(c,"class","clean-list"),O(h,"class","wrapper")},m(u,p){v(u,e,p),U(e,s),U(s,o),v(u,n,p),v(u,r,p),v(u,_,p),b&&b.m(u,p),v(u,f,p),I&&I.m(u,p),v(u,a,p),C&&C.m(u,p),v(u,i,p),v(u,h,p),U(h,c);for(let w=0;w<d.length;w+=1)d[w]&&d[w].m(c,null);U(h,g),z.m(h,null),P=!0},p(u,[p]){if((!P||p&1)&&t!==(t=u[0].title+"")&&R(o,t),u[0].video&&!u[3]?b?b.p(u,p):(b=be(u),b.c(),b.m(f.parentNode,f)):b&&(b.d(1),b=null),u[3]?I?I.p(u,p):(I=ve(u),I.c(),I.m(a.parentNode,a)):I&&(I.d(1),I=null),u[0].description.length>50?C?C.p(u,p):(C=we(u),C.c(),C.m(i.parentNode,i)):C&&(C.d(1),C=null),p&71){j=N(u[0].folder.questions.slice(0,3)||[]);let w;for(w=0;w<j.length;w+=1){const q=ge(u,j,w);d[w]?(d[w].p(q,p),K(d[w],1)):(d[w]=Ee(q),d[w].c(),K(d[w],1),d[w].m(c,null))}for(ze(),w=j.length;w<d.length;w+=1)k(w);Te()}B===(B=Y(u))&&z?z.p(u,p):(z.d(1),z=B(u),z&&(z.c(),z.m(h,null)))},i(u){if(!P){for(let p=0;p<j.length;p+=1)K(d[p]);P=!0}},o(u){d=d.filter(Boolean);for(let p=0;p<d.length;p+=1)W(d[p]);P=!1},d(u){u&&(m(e),m(n),m(r),m(_),m(f),m(a),m(i),m(h)),b&&b.d(u),I&&I.d(u),C&&C.d(u),H(d,u),z.d()}}}function Ke(l,e,s){let t;Ve(l,le,b=>s(9,t=b));let{game:o}=e,n=!1;function r(){s(1,n=!0)}let _=[],f=null,a=!1;function i(){_=[],s(2,f=null),s(1,n=!1),s(0,o.folder.questions=qe(o.folder.questions),o)}function h(){if(_.length!==o.folder.questions.length)return;console.log({results:_});const b=_.length,I=_.filter(d=>d.status===!0).length,C=parseFloat(parseFloat(I,10)*100)/parseFloat(b,10),j=Math.round(C.toFixed(2));s(2,f=j),console.log(f),f===100?ee.fire("Perfect!","You Passed This Quiz","success"):ee.fire("Oh No!","You Didn't Pass This Quiz. Try Again.","warning"),c()}async function c(){if(!t||!t.id)return;const b=await Pe.post("/game_attempts.json",{user_id:t.id,game_id:o.id,result:f,questions:_});console.log({res:b});let I={...t};I.bank_skills=b,le.set(I)}function g(b){console.log({payload:b}),_=[..._,b],h()}const P=()=>s(3,a=!a);return l.$$set=b=>{"game"in b&&s(0,o=b.game)},[o,n,f,a,r,i,g,P]}class xe extends Se{constructor(e){super(),Ie(this,e,Ke,Ye,Ce,{game:0})}}export{xe as G,qe as s};
