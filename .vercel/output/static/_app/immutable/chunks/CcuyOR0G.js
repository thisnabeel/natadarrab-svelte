import{W as Q,S as ve,i as pe,s as _e,a5 as J,n as he,d as g,b as O,w as qe,ab as He,z as re,a as de,V as K,U as ne,c as w,C as V,ag as ut,ah as ft,D as v,e as E,f as B,h as R,g as ie,P as X,j as C,k as S,t as oe,G as se,Q as ce,B as G,m as be,o as ee,p as Y,q as ke,r as we,u as ye,l as me,a7 as $,ai as ht,O as Ye,E as dt,H as gt,x as Ze,v as $e,A as vt,a1 as pt,$ as Me,a0 as _t}from"./Dl-CPQHr.js";import{e as W}from"./r7f6XsU6.js";import"./IHki7fMi.js";import{A as Ie}from"./B8Bu-ZRe.js";import{w as Ee}from"./C1MhRY74.js";import{u as Te}from"./DBbGiqt8.js";import{s as mt}from"./CPbIu-fp.js";let ae={};const A=(t,e=null)=>{document.execCommand(t,!1,e)},et=(t,e)=>{if(e=e||(t&&t.tagName?[t.tagName]:[]),t&&t.parentNode)t=t.parentNode;else return e;const l=t.tagName;return t.style&&t.getAttribute&&[t.style.textAlign||t.getAttribute("align"),t.style.color||l==="FONT"&&"forecolor",t.style.backgroundColor&&"backcolor"].filter(s=>s).forEach(s=>e.push(s)),l==="DIV"?e:(e.push(l),et(t,e).filter(s=>s!=null))},ge=t=>{const e=document.getSelection();if(ae.range=null,e.rangeCount){let l=ae.range=e.getRangeAt(0),s=document.createRange(),n;s.selectNodeContents(t),s.setEnd(l.startContainer,l.startOffset),n=(s+"").length,ae.metaRange={start:n,end:n+(l+"").length}}},fe=t=>{let e=ae.metaRange,l=ae.range,s=document.getSelection(),n;if(l){if(e&&e.start!==e.end){let f=0,a=[t],c,r=!1,i=!1;for(n=document.createRange();!i&&(c=a.pop());)if(c.nodeType===3){let u=f+c.length;!r&&e.start>=f&&e.start<=u&&(n.setStart(c,e.start-f),r=!0),r&&e.end>=f&&e.end<=u&&(n.setEnd(c,e.end-f),i=!0),f=u}else{let u=c.childNodes,o=u.length;for(;o>0;)o-=1,a.push(u[o])}}s.removeAllRanges(),s.addRange(n||l)}},bt=t=>{const e=t.match(/<!--StartFragment-->(.*?)<!--EndFragment-->/);let l=e&&e[1]||t;return l=l.replace(/\r?\n|\r/g," ").replace(/<!--(.*?)-->/g,"").replace(new RegExp("<(/)*(meta|link|span|\\?xml:|st1:|o:|font|w:sdt)(.*?)>","gi"),"").replace(/<!\[if !supportLists\]>(.*?)<!\[endif\]>/gi,"").replace(/style="[^"]*"/gi,"").replace(/style='[^']*'/gi,"").replace(/&nbsp;/gi," ").replace(/>(\s+)</g,"><").replace(/class="[^"]*"/gi,"").replace(/class='[^']*'/gi,"").replace(/<[^/].*?>/g,s=>s.split(/[ >]/g)[0]+">").trim(),l=Ce(l),l},kt=t=>{const e=document.createDocumentFragment();for(;t.firstChild;){const l=t.removeChild(t.firstChild);e.appendChild(l)}t.parentNode.replaceChild(e,t)},tt=(t,e)=>{Array.from(t).forEach(l=>{e.some(s=>s===l.tagName.toLowerCase())&&(l.children.length&&tt(l.children,e),kt(l))})},ue=t=>Object.keys(t).map(e=>t[e]),wt=(t,e=[])=>{if(e&&e.length){const l={};return e.forEach(s=>{typeof s=="string"?l[s]=Object.assign({},t[s]):t[s.name]?l[s.name]=Object.assign(t[s.name],s):l[s.name]=Object.assign({},s)}),l}else return t},Ce=t=>(["style","script","applet","embed","noframes","noscript"].forEach(e=>{t=t.replace(new RegExp(`<${e}.*?${e}(.*?)>`,"gi"),"")}),t),lt=(t,e)=>t===e?!0:t.parentElement?lt(t.parentElement,e):!1,Le='<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M31.1 48.9l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9L15 50.4c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L11 41.8c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7c2.5-2.6 3.1-6.7 1.5-10l-5.9 5.9zM38.7 22.5l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2L42 38c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1c0 .1 0 .1 0 0z"></path><path d="M44.2 30.5c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.3-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.9 40.6c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM49.9 55.4h-8.5v-5h8.5v-8.9h5.2v8.9h8.5v5h-8.5v8.9h-5.2v-8.9z"></path></svg>',yt='<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M30.9 49.1l-6.7 6.7c-.8.8-1.6.9-2.1.9s-1.4-.1-2.1-.9l-5.2-5.2c-1.1-1.1-1.1-3.1 0-4.2l6.1-6.1.2-.2 6.5-6.5c-1.2-.6-2.5-.9-3.8-.9-2.3 0-4.6.9-6.3 2.6L10.8 42c-3.5 3.5-3.5 9.2 0 12.7l5.2 5.2c1.7 1.7 4 2.6 6.3 2.6s4.6-.9 6.3-2.6l6.7-6.7C38 50.5 38.6 46.3 37 43l-6.1 6.1zM38.5 22.7l6.7-6.7c.8-.8 1.6-.9 2.1-.9s1.4.1 2.1.9l5.2 5.2c1.1 1.1 1.1 3.1 0 4.2l-6.1 6.1-.2.2-6.5 6.5c1.2.6 2.5.9 3.8.9 2.3 0 4.6-.9 6.3-2.6l6.7-6.7c3.5-3.5 3.5-9.2 0-12.7l-5.2-5.2c-1.7-1.7-4-2.6-6.3-2.6s-4.6.9-6.3 2.6l-6.7 6.7c-2.7 2.7-3.3 6.9-1.7 10.2l6.1-6.1z"></path><path d="M44.1 30.7c.2-.2.4-.6.4-.9 0-.3-.1-.6-.4-.9l-2.3-2.3c-.2-.2-.6-.4-.9-.4-.3 0-.6.1-.9.4L25.8 40.8c-.2.2-.4.6-.4.9 0 .3.1.6.4.9l2.3 2.3c.2.2.6.4.9.4.3 0 .6-.1.9-.4l14.2-14.2zM41.3 55.8v-5h22.2v5H41.3z"></path></svg>',Et={viewHtml:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path fill="none" stroke="currentColor" stroke-width="8" stroke-miterlimit="10" d="M26.9 17.9L9 36.2 26.9 54M45 54l17.9-18.3L45 17.9"></path></svg>',title:"View HTML",result:function(){let t=Q(this.references),e=Q(this.state).actionObj,l=Q(this.helper);l.showEditor=!l.showEditor,t.editor.style.display=l.showEditor?"block":"none",t.raw.style.display=l.showEditor?"none":"block",l.showEditor?t.editor.innerHTML=t.raw.value:t.raw.value=t.editor.innerHTML,setTimeout(()=>{Object.keys(e).forEach(s=>e[s].disabled=!l.showEditor),e.viewHtml.disabled=!1,e.viewHtml.active=!l.showEditor,this.state.update(s=>(s.actionBtns=ue(e),s.actionObj=e,s))})}},undo:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M61.2 51.2c0-5.1-2.1-9.7-5.4-13.1-3.3-3.3-8-5.4-13.1-5.4H26.1v-12L10.8 36l15.3 15.3V39.1h16.7c3.3 0 6.4 1.3 8.5 3.5 2.2 2.2 3.5 5.2 3.5 8.5h6.4z"></path></svg>',title:"Undo",result:()=>A("undo")},redo:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M10.8 51.2c0-5.1 2.1-9.7 5.4-13.1 3.3-3.3 8-5.4 13.1-5.4H46v-12L61.3 36 45.9 51.3V39.1H29.3c-3.3 0-6.4 1.3-8.5 3.5-2.2 2.2-3.5 5.2-3.5 8.5h-6.5z"></path></svg>',title:"Redo",result:()=>A("redo")},b:{icon:"<b>B</b>",title:"Bold",result:()=>A("bold")},i:{icon:"<i>I</i>",title:"Italic",result:()=>A("italic")},u:{icon:"<u>U</u>",title:"Underline",result:()=>A("underline")},strike:{icon:"<strike>S</strike>",title:"Strike-through",result:()=>A("strikeThrough")},sup:{icon:"A<sup>2</sup>",title:"Superscript",result:()=>A("superscript")},sub:{icon:"A<sub>2</sub>",title:"Subscript",result:()=>A("subscript")},h1:{icon:"<b>H<sub>1</sub></b>",title:"Heading 1",result:()=>A("formatBlock","<H1>")},h2:{icon:"<b>H<sub>2</sub></b>",title:"Heading 2",result:()=>A("formatBlock","<H2>")},p:{icon:"&#182;",title:"Paragraph",result:()=>A("formatBlock","<P>")},blockquote:{icon:"&#8220; &#8221;",title:"Quote",result:()=>A("formatBlock","<BLOCKQUOTE>")},ol:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M27 14h36v8H27zM27 50h36v8H27zM27 32h36v8H27zM11.8 15.8V22h1.8v-7.8h-1.5l-2.1 1 .3 1.3zM12.1 38.5l.7-.6c1.1-1 2.1-2.1 2.1-3.4 0-1.4-1-2.4-2.7-2.4-1.1 0-2 .4-2.6.8l.5 1.3c.4-.3 1-.6 1.7-.6.9 0 1.3.5 1.3 1.1 0 .9-.9 1.8-2.6 3.3l-1 .9V40H15v-1.5h-2.9zM13.3 53.9c1-.4 1.4-1 1.4-1.8 0-1.1-.9-1.9-2.6-1.9-1 0-1.9.3-2.4.6l.4 1.3c.3-.2 1-.5 1.6-.5.8 0 1.2.3 1.2.8 0 .7-.8.9-1.4.9h-.7v1.3h.7c.8 0 1.6.3 1.6 1.1 0 .6-.5 1-1.4 1-.7 0-1.5-.3-1.8-.5l-.4 1.4c.5.3 1.3.6 2.3.6 2 0 3.2-1 3.2-2.4 0-1.1-.8-1.8-1.7-1.9z"></path></svg>',title:"Ordered List",result:()=>A("insertOrderedList")},ul:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M27 14h36v8H27zM27 50h36v8H27zM9 50h9v8H9zM9 32h9v8H9zM9 14h9v8H9zM27 32h36v8H27z"></path></svg>',title:"Unordered List",result:()=>A("insertUnorderedList")},hr:{icon:"&#8213;",title:"Horizontal Line",result:()=>A("insertHorizontalRule")},left:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM9 32h36v8H9z"></path></svg>',title:"Justify left",result:()=>A("justifyLeft")},right:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM27 32h36v8H27z"></path></svg>',title:"Justify right",result:()=>A("justifyRight")},center:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM18 32h36v8H18z"></path></svg>',title:"Justify center",result:()=>A("justifyCenter")},justify:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M9 14h54v8H9zM9 50h54v8H9zM9 32h54v8H9z"></path></svg>',title:"Justify full",result:()=>A("justifyFull")},a:{icon:Le,title:"Insert link",result:function(){const t=Q(this.state).actionObj,e=Q(this.references);if(t.a.active){const l=window.getSelection(),s=document.createRange();s.selectNodeContents(document.getSelection().focusNode),l.removeAllRanges(),l.addRange(s),A("unlink"),t.a.title="Insert link",t.a.icon=Le,this.state.update(n=>(n.actionBtn=ue(t),n.actionObj=t,n))}else ge(e.editor),e.modal.$set({show:!0,event:"linkUrl",title:"Insert link",label:"Url"}),Q(this.helper).link||(this.helper.update(l=>(l.link=!0,l)),e.modal.$on("linkUrl",l=>{fe(e.editor),A("createLink",l.detail),t.a.title="Unlink",t.a.icon=yt,this.state.update(s=>(s.actionBtn=ue(t),s.actionObj=t,s))}))}},image:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M64 17v38H8V17h56m8-8H0v54h72V9z"></path><path d="M17.5 22C15 22 13 24 13 26.5s2 4.5 4.5 4.5 4.5-2 4.5-4.5-2-4.5-4.5-4.5zM16 50h27L29.5 32zM36 36.2l8.9-8.5L60.2 50H45.9S35.6 35.9 36 36.2z"></path></svg>',title:"Image",result:function(){const t=Q(this.references);ge(t.editor),t.modal.$set({show:!0,event:"imageUrl",title:"Insert image",label:"Url"}),Q(this.helper).image||(this.helper.update(e=>(e.image=!0,e)),t.modal.$on("imageUrl",e=>{fe(t.editor),A("insertImage",e.detail)}))}},forecolor:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M32 15h7.8L56 57.1h-7.9l-4-11.1H27.4l-4 11.1h-7.6L32 15zm-2.5 25.4h12.9L36 22.3h-.2l-6.3 18.1z"></path></svg>',title:"Text color",colorPicker:!0,result:function(){Be.call(this,"foreColor")}},backcolor:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M36.5 22.3l-6.3 18.1H43l-6.3-18.1z"></path><path d="M9 8.9v54.2h54.1V8.9H9zm39.9 48.2L45 46H28.2l-3.9 11.1h-7.6L32.8 15h7.8l16.2 42.1h-7.9z"></path></svg>',title:"Background color",colorPicker:!0,result:function(){Be.call(this,"backColor")}},removeFormat:{icon:'<svg viewBox="0 0 72 72" width="17px" height="100%"><path d="M58.2 54.6L52 48.5l3.6-3.6 6.1 6.1 6.4-6.4 3.8 3.8-6.4 6.4 6.1 6.1-3.6 3.6-6.1-6.1-6.4 6.4-3.7-3.8 6.4-6.4zM21.7 52.1H50V57H21.7zM18.8 15.2h34.1v6.4H39.5v24.2h-7.4V21.5H18.8v-6.3z"></path></svg>',title:"Remove format",result:function(){const t=Q(this.references),e=window.getSelection();if(!e.toString().length){tt(t.editor.children,this.removeFormatTags);const l=document.createRange();l.selectNodeContents(t.editor),e.removeAllRanges(),e.addRange(l)}A("removeFormat"),e.removeAllRanges()}}},Be=function(t){const e=Q(this.references);ge(e.editor),e.colorPicker.$set({show:!0,event:t}),Q(this.helper)[t]||(this.helper.update(l=>(l[t]=!0,l)),e.colorPicker.$on(t,l=>{let s=l.detail;if(s.modal){e.modal.$set({show:!0,event:`${t}Changed`,title:"Text color",label:t==="foreColor"?"Text color":"Background color"});const n=t;Q(this.helper)[`${n}Modal`]||(Q(this.helper)[`${n}Modal`]=!0,e.modal.$on(`${n}Changed`,f=>{let a=f.detail;fe(e.editor),A(n,a)}))}else fe(e.editor),A(t,s.color)}))};function ze(t){let e,l,s,n,f,a,c,r,i,u,o,p,L,y,k,_,z,h="Confirm",m,H,D="Cancel",I,U,N=t[2]&&je();return{c(){e=C("div"),l=S(),s=C("div"),n=C("div"),f=C("span"),a=oe(t[3]),c=S(),r=C("form"),i=C("label"),u=C("input"),o=S(),p=C("span"),L=C("span"),y=oe(t[4]),k=S(),N&&N.c(),_=S(),z=C("button"),z.textContent=h,m=S(),H=C("button"),H.textContent=D,this.h()},l(q){e=E(q,"DIV",{class:!0}),B(e).forEach(g),l=R(q),s=E(q,"DIV",{class:!0});var M=B(s);n=E(M,"DIV",{class:!0});var d=B(n);f=E(d,"SPAN",{class:!0});var T=B(f);a=ie(T,t[3]),T.forEach(g),c=R(d),r=E(d,"FORM",{});var j=B(r);i=E(j,"LABEL",{class:!0});var P=B(i);u=E(P,"INPUT",{name:!0,class:!0}),o=R(P),p=E(P,"SPAN",{class:!0});var F=B(p);L=E(F,"SPAN",{class:!0});var x=B(L);y=ie(x,t[4]),x.forEach(g),k=R(F),N&&N.l(F),F.forEach(g),P.forEach(g),_=R(j),z=E(j,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),X(z)!=="svelte-1mghl0k"&&(z.textContent=h),m=R(j),H=E(j,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),X(H)!=="svelte-1yas1qa"&&(H.textContent=D),j.forEach(g),d.forEach(g),M.forEach(g),this.h()},h(){v(e,"class","cl-editor-overlay svelte-42yfje"),v(f,"class","modal-title svelte-42yfje"),v(u,"name","text"),v(u,"class","svelte-42yfje"),v(L,"class","svelte-42yfje"),v(p,"class","input-info svelte-42yfje"),v(i,"class","modal-label svelte-42yfje"),ne(i,"input-error",t[2]),v(z,"class","modal-button modal-submit svelte-42yfje"),v(z,"type","submit"),v(H,"class","modal-button modal-reset svelte-42yfje"),v(H,"type","reset"),v(n,"class","modal-box svelte-42yfje"),v(s,"class","cl-editor-modal svelte-42yfje")},m(q,M){O(q,e,M),O(q,l,M),O(q,s,M),w(s,n),w(n,f),w(f,a),w(n,c),w(n,r),w(r,i),w(i,u),t[11](u),K(u,t[1]),w(i,o),w(i,p),w(p,L),w(L,y),w(p,k),N&&N.m(p,null),w(r,_),w(r,z),w(r,m),w(r,H),I||(U=[V(e,"click",t[8]),V(u,"keyup",t[9]),ut(t[6].call(null,u)),V(u,"input",t[12]),V(H,"click",t[8]),V(r,"submit",ft(t[13]))],I=!0)},p(q,M){M&8&&de(a,q[3]),M&2&&u.value!==q[1]&&K(u,q[1]),M&16&&de(y,q[4]),q[2]?N||(N=je(),N.c(),N.m(p,null)):N&&(N.d(1),N=null),M&4&&ne(i,"input-error",q[2])},d(q){q&&(g(e),g(l),g(s)),t[11](null),N&&N.d(),I=!1,re(U)}}}function je(t){let e,l="Required";return{c(){e=C("span"),e.textContent=l,this.h()},l(s){e=E(s,"SPAN",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-1hsxkja"&&(e.textContent=l),this.h()},h(){v(e,"class","msg-error svelte-42yfje")},m(s,n){O(s,e,n)},d(s){s&&g(e)}}}function Ct(t){let e,l=t[0]&&ze(t);return{c(){l&&l.c(),e=qe()},l(s){l&&l.l(s),e=qe()},m(s,n){l&&l.m(s,n),O(s,e,n)},p(s,[n]){s[0]?l?l.p(s,n):(l=ze(s),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:he,o:he,d(s){s&&g(e),l&&l.d(s)}}}function Ht(t,e,l){let s=new He,{show:n=!1}=e,{text:f=""}=e,{event:a=""}=e,{title:c=""}=e,{label:r=""}=e,{error:i=!1}=e,u={};const o=h=>{h.type=a.includes("Color")?"color":"text"};function p(){f?(s(a,f),L()):(l(2,i=!0),u.text.focus())}function L(){l(0,n=!1),l(1,f=""),l(2,i=!1)}function y(){l(2,i=!1)}function k(h){se[h?"unshift":"push"](()=>{u.text=h,l(5,u)})}function _(){f=this.value,l(1,f)}const z=h=>p();return t.$$set=h=>{"show"in h&&l(0,n=h.show),"text"in h&&l(1,f=h.text),"event"in h&&l(10,a=h.event),"title"in h&&l(3,c=h.title),"label"in h&&l(4,r=h.label),"error"in h&&l(2,i=h.error)},t.$$.update=()=>{t.$$.dirty&33&&n&&setTimeout(()=>{u.text.focus()})},[n,f,i,c,r,u,o,p,L,y,a,k,_,z]}class qt extends ve{constructor(e){super(),pe(this,e,Ht,Ct,_e,{show:0,text:1,event:10,title:3,label:4,error:2})}get show(){return this.$$.ctx[0]}set show(e){this.$$set({show:e}),J()}get text(){return this.$$.ctx[1]}set text(e){this.$$set({text:e}),J()}get event(){return this.$$.ctx[10]}set event(e){this.$$set({event:e}),J()}get title(){return this.$$.ctx[3]}set title(e){this.$$set({title:e}),J()}get label(){return this.$$.ctx[4]}set label(e){this.$$set({label:e}),J()}get error(){return this.$$.ctx[2]}set error(e){this.$$set({error:e}),J()}}function Oe(t,e,l){const s=t.slice();return s[8]=e[l],s}function Re(t){let e,l=(t[8].text||"")+"",s,n,f;function a(...c){return t[6](t[8],...c)}return{c(){e=C("button"),s=oe(l),this.h()},l(c){e=E(c,"BUTTON",{type:!0,class:!0,style:!0});var r=B(e);s=ie(r,l),r.forEach(g),this.h()},h(){v(e,"type","button"),v(e,"class","color-picker-btn svelte-njq4pk"),G(e,"background-color",t[8].color)},m(c,r){O(c,e,r),w(e,s),n||(f=V(e,"click",a),n=!0)},p(c,r){t=c,r&2&&l!==(l=(t[8].text||"")+"")&&de(s,l),r&2&&G(e,"background-color",t[8].color)},d(c){c&&g(e),n=!1,f()}}}function Mt(t){let e,l,s,n,f,a,c=W(t[1]),r=[];for(let i=0;i<c.length;i+=1)r[i]=Re(Oe(t,c,i));return{c(){e=C("div"),l=C("div"),s=S(),n=C("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=E(i,"DIV",{style:!0});var u=B(e);l=E(u,"DIV",{class:!0}),B(l).forEach(g),s=R(u),n=E(u,"DIV",{class:!0});var o=B(n);for(let p=0;p<r.length;p+=1)r[p].l(o);o.forEach(g),u.forEach(g),this.h()},h(){v(l,"class","color-picker-overlay svelte-njq4pk"),v(n,"class","color-picker-wrapper svelte-njq4pk"),G(e,"display",t[0]?"block":"none")},m(i,u){O(i,e,u),w(e,l),w(e,s),w(e,n);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(n,null);f||(a=V(l,"click",t[2]),f=!0)},p(i,[u]){if(u&10){c=W(i[1]);let o;for(o=0;o<c.length;o+=1){const p=Oe(i,c,o);r[o]?r[o].p(p,u):(r[o]=Re(p),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=c.length}u&1&&G(e,"display",i[0]?"block":"none")},i:he,o:he,d(i){i&&g(e),ce(r,i),f=!1,a()}}}function It(t,e,l){const s=new He;let{show:n=!1}=e,{btns:f=[]}=e,{event:a=""}=e,{colors:c=[]}=e;function r(){l(0,n=!1)}function i(o){s(a,o),r()}const u=(o,p)=>i(o);return t.$$set=o=>{"show"in o&&l(0,n=o.show),"btns"in o&&l(1,f=o.btns),"event"in o&&l(4,a=o.event),"colors"in o&&l(5,c=o.colors)},t.$$.update=()=>{t.$$.dirty&32&&l(1,f=c.map(o=>({color:o})).concat([{text:"#",modal:!0}]))},[n,f,r,i,a,c,u]}class Tt extends ve{constructor(e){super(),pe(this,e,It,Mt,_e,{show:0,btns:1,event:4,colors:5})}}const Lt=function(t){let e={actionBtns:[],actionObj:{}};const{subscribe:l,set:s,update:n}=Ee(e);return{name:t,set:s,update:n,subscribe:l}},Bt=Lt;function Se(t,e,l){const s=t.slice();return s[38]=e[l],s}function De(t){let e,l,s=t[38].icon+"",n,f,a,c,r,i;function u(...o){return t[24](t[38],...o)}return{c(){e=C("button"),l=new gt(!1),n=S(),this.h()},l(o){e=E(o,"BUTTON",{type:!0,class:!0,title:!0});var p=B(e);l=dt(p,!1),n=R(p),p.forEach(g),this.h()},h(){l.a=n,v(e,"type","button"),v(e,"class",f="cl-button "+(t[38].active?"active":"")+" svelte-1a534py"),v(e,"title",a=t[38].title),e.disabled=c=t[38].disabled},m(o,p){O(o,e,p),l.m(s,e),w(e,n),r||(i=V(e,"click",u),r=!0)},p(o,p){t=o,p[0]&16&&s!==(s=t[38].icon+"")&&l.p(s),p[0]&16&&f!==(f="cl-button "+(t[38].active?"active":"")+" svelte-1a534py")&&v(e,"class",f),p[0]&16&&a!==(a=t[38].title)&&v(e,"title",a),p[0]&16&&c!==(c=t[38].disabled)&&(e.disabled=c)},d(o){o&&g(e),r=!1,i()}}}function zt(t){let e,l,s,n,f,a,c,r,i,u,o,p,L,y=W(t[4].actionBtns),k=[];for(let h=0;h<y.length;h+=1)k[h]=De(Se(t,y,h));let _={};r=new qt({props:_}),t[31](r);let z={colors:t[2]};return u=new Tt({props:z}),t[32](u),{c(){e=C("div"),l=C("div");for(let h=0;h<k.length;h+=1)k[h].c();s=S(),n=C("div"),f=S(),a=C("textarea"),c=S(),ye(r.$$.fragment),i=S(),ye(u.$$.fragment),this.h()},l(h){e=E(h,"DIV",{class:!0});var m=B(e);l=E(m,"DIV",{class:!0});var H=B(l);for(let I=0;I<k.length;I+=1)k[I].l(H);H.forEach(g),s=R(m),n=E(m,"DIV",{id:!0,class:!0,style:!0,contenteditable:!0});var D=B(n);D.forEach(g),f=R(m),a=E(m,"TEXTAREA",{class:!0,style:!0}),B(a).forEach(g),c=R(m),we(r.$$.fragment,m),i=R(m),we(u.$$.fragment,m),m.forEach(g),this.h()},h(){v(l,"class","cl-actionbar svelte-1a534py"),v(n,"id",t[1]),v(n,"class","cl-content svelte-1a534py"),G(n,"height",t[0]),v(n,"contenteditable","true"),v(a,"class","cl-textarea svelte-1a534py"),G(a,"max-height",t[0]),G(a,"min-height",t[0]),v(e,"class","cl svelte-1a534py")},m(h,m){O(h,e,m),w(e,l);for(let H=0;H<k.length;H+=1)k[H]&&k[H].m(l,null);w(e,s),w(e,n),t[25](n),w(e,f),w(e,a),t[30](a),w(e,c),ke(r,e,null),w(e,i),ke(u,e,null),t[33](e),o=!0,p||(L=[V(window,"click",t[23]),V(n,"input",t[26]),V(n,"mouseup",t[27]),V(n,"keyup",t[28]),V(n,"paste",t[29])],p=!0)},p(h,m){if(m[0]&272){y=W(h[4].actionBtns);let I;for(I=0;I<y.length;I+=1){const U=Se(h,y,I);k[I]?k[I].p(U,m):(k[I]=De(U),k[I].c(),k[I].m(l,null))}for(;I<k.length;I+=1)k[I].d(1);k.length=y.length}(!o||m[0]&2)&&v(n,"id",h[1]),(!o||m[0]&1)&&G(n,"height",h[0]),(!o||m[0]&1)&&G(a,"max-height",h[0]),(!o||m[0]&1)&&G(a,"min-height",h[0]);const H={};r.$set(H);const D={};m[0]&4&&(D.colors=h[2]),u.$set(D)},i(h){o||(Y(r.$$.fragment,h),Y(u.$$.fragment,h),o=!0)},o(h){ee(r.$$.fragment,h),ee(u.$$.fragment,h),o=!1},d(h){h&&g(e),ce(k,h),t[25](null),t[30](null),t[31](null),be(r),t[32](null),be(u),t[33](null),p=!1,re(L)}}}const Ve=[];function jt(t,e,l){let s,n,f,a=new He,{actions:c=[]}=e,{height:r="300px"}=e,{html:i=""}=e,{contentId:u=""}=e,{colors:o=["#ffffff","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646","#ffff00","#f2f2f2","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada","#fff2ca","#d8d8d8","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5","#ffe694","#bfbfbf","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#b7dde8","#fac08f","#f2c314","#a5a5a5","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#92cddc","#e36c09","#c09100","#7f7f7f","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#31859b","#974806","#7f6000"]}=e,{removeFormatTags:p=["h1","h2","blockquote"]}=e,L=Ee({foreColor:!1,backColor:!1,foreColorModal:!1,backColorModal:!1,image:!1,link:!1,showEditor:!0,blurActive:!1});me(t,L,b=>l(34,n=b)),Ve.push({});let y="editor_"+Ve.length,k=Bt(y);me(t,k,b=>l(4,f=b));let _=Ee({});me(t,_,b=>l(3,s=b)),$(k,f.actionObj=wt(Et,c),f);let z={exec:U,getHtml:N,getText:q,setHtml:M,saveRange:d,restoreRange:T,helper:L,references:_,state:k,removeFormatTags:p};ht(y,z),Ye(()=>{$(k,f.actionBtns=ue(f.actionObj),f),M(i)});function h(b){s.editor.focus(),d(s.editor),T(s.editor),b.result.call(z),m()}function m(b){const te=b?[]:et(document.getSelection().focusNode);Object.keys(f.actionObj).forEach(le=>$(k,f.actionObj[le].active=!1,f)),te.forEach(le=>(f.actionObj[le.toLowerCase()]||{}).active=!0),$(k,f.actionBtns=ue(f.actionObj),f),k.set(f)}function H(b){b.preventDefault(),U("insertHTML",b.clipboardData.getData("text/html")?bt(b.clipboardData.getData("text/html")):b.clipboardData.getData("text"))}function D(b){a("change",b)}function I(b){!lt(b.target,s.editorWrapper)&&n.blurActive&&a("blur",b),$(L,n.blurActive=!0,n)}function U(b,te){A(b,te)}function N(b){return b?Ce(s.editor.innerHTML):s.editor.innerHTML}function q(){return s.editor.innerText}function M(b,te){const le=te?Ce(b):b||"";$(_,s.editor.innerHTML=le,s),$(_,s.raw.value=le,s)}function d(){ge(s.editor)}function T(){fe(s.editor)}const j=s,P=b=>I(b),F=(b,te)=>h(b);function x(b){se[b?"unshift":"push"](()=>{s.editor=b,_.set(s)})}const Z=b=>D(b.target.innerHTML),st=()=>m(),nt=()=>m(),it=b=>H(b);function ot(b){se[b?"unshift":"push"](()=>{s.raw=b,_.set(s)})}function rt(b){se[b?"unshift":"push"](()=>{s.modal=b,_.set(s)})}function ct(b){se[b?"unshift":"push"](()=>{s.colorPicker=b,_.set(s)})}function at(b){se[b?"unshift":"push"](()=>{s.editorWrapper=b,_.set(s)})}return t.$$set=b=>{"actions"in b&&l(13,c=b.actions),"height"in b&&l(0,r=b.height),"html"in b&&l(14,i=b.html),"contentId"in b&&l(1,u=b.contentId),"colors"in b&&l(2,o=b.colors),"removeFormatTags"in b&&l(15,p=b.removeFormatTags)},[r,u,o,s,f,L,k,_,h,m,H,D,I,c,i,p,U,N,q,M,d,T,j,P,F,x,Z,st,nt,it,ot,rt,ct,at]}class Ot extends ve{constructor(e){super(),pe(this,e,jt,zt,_e,{actions:13,height:0,html:14,contentId:1,colors:2,removeFormatTags:15,exec:16,getHtml:17,getText:18,setHtml:19,saveRange:20,restoreRange:21,refs:22},null,[-1,-1])}get actions(){return this.$$.ctx[13]}set actions(e){this.$$set({actions:e}),J()}get height(){return this.$$.ctx[0]}set height(e){this.$$set({height:e}),J()}get html(){return this.$$.ctx[14]}set html(e){this.$$set({html:e}),J()}get contentId(){return this.$$.ctx[1]}set contentId(e){this.$$set({contentId:e}),J()}get colors(){return this.$$.ctx[2]}set colors(e){this.$$set({colors:e}),J()}get removeFormatTags(){return this.$$.ctx[15]}set removeFormatTags(e){this.$$set({removeFormatTags:e}),J()}get exec(){return this.$$.ctx[16]}get getHtml(){return this.$$.ctx[17]}get getText(){return this.$$.ctx[18]}get setHtml(){return this.$$.ctx[19]}get saveRange(){return this.$$.ctx[20]}get restoreRange(){return this.$$.ctx[21]}get refs(){return this.$$.ctx[22]}}function Ne(t,e,l){const s=t.slice();return s[24]=e[l],s[25]=e,s[26]=l,s}function Ae(t,e,l){const s=t.slice();return s[27]=e[l],s}function Pe(t,e,l){const s=t.slice();return s[30]=e[l],s[31]=e,s[26]=l,s}function Ue(t,e,l){const s=t.slice();return s[32]=e[l][0],s[33]=e[l][1],s[34]=e,s[35]=l,s}function Fe(t){let e,l,s=W(t[0].folder.questions),n=[];for(let a=0;a<s.length;a+=1)n[a]=We(Ne(t,s,a));const f=a=>ee(n[a],1,1,()=>{n[a]=null});return{c(){e=C("ul");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){e=E(a,"UL",{class:!0});var c=B(e);for(let r=0;r<n.length;r+=1)n[r].l(c);c.forEach(g),this.h()},h(){v(e,"class","clean-list")},m(a,c){O(a,e,c);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(e,null);l=!0},p(a,c){if(c[0]&381){s=W(a[0].folder.questions);let r;for(r=0;r<s.length;r+=1){const i=Ne(a,s,r);n[r]?(n[r].p(i,c),Y(n[r],1)):(n[r]=We(i),n[r].c(),Y(n[r],1),n[r].m(e,null))}for(Ze(),r=s.length;r<n.length;r+=1)f(r);$e()}},i(a){if(!l){for(let c=0;c<s.length;c+=1)Y(n[c]);l=!0}},o(a){n=n.filter(Boolean);for(let c=0;c<n.length;c+=1)ee(n[c]);l=!1},d(a){a&&g(e),ce(n,a)}}}function Ge(t){let e,l,s='<i class="fa fa-plus"></i>',n,f,a=W(Object.entries(t[24].choices).sort(Xe)),c=[];for(let i=0;i<a.length;i+=1)c[i]=xe(Ue(t,a,i));function r(){return t[16](t[24])}return{c(){for(let i=0;i<c.length;i+=1)c[i].c();e=S(),l=C("div"),l.innerHTML=s,this.h()},l(i){for(let u=0;u<c.length;u+=1)c[u].l(i);e=R(i),l=E(i,"DIV",{class:!0,"data-svelte-h":!0}),X(l)!=="svelte-1239fhs"&&(l.innerHTML=s),this.h()},h(){v(l,"class","btn btn-outline-info")},m(i,u){for(let o=0;o<c.length;o+=1)c[o]&&c[o].m(i,u);O(i,e,u),O(i,l,u),n||(f=V(l,"click",r),n=!0)},p(i,u){if(t=i,u[0]&9){a=W(Object.entries(t[24].choices).sort(Xe));let o;for(o=0;o<a.length;o+=1){const p=Ue(t,a,o);c[o]?c[o].p(p,u):(c[o]=xe(p),c[o].c(),c[o].m(e.parentNode,e))}for(;o<c.length;o+=1)c[o].d(1);c.length=a.length}},d(i){i&&(g(e),g(l)),ce(c,i),n=!1,f()}}}function xe(t){let e,l,s,n,f=t[32]+"",a,c,r,i,u,o;function p(){return t[14](t[24],t[32])}function L(){t[15].call(i,t[34],t[35])}return{c(){e=C("li"),l=C("i"),s=S(),n=C("span"),a=oe(f),c=oe(":"),r=S(),i=C("input"),this.h()},l(y){e=E(y,"LI",{class:!0});var k=B(e);l=E(k,"I",{class:!0}),B(l).forEach(g),s=R(k),n=E(k,"SPAN",{style:!0});var _=B(n);a=ie(_,f),c=ie(_,":"),_.forEach(g),r=R(k),i=E(k,"INPUT",{style:!0,type:!0,class:!0}),k.forEach(g),this.h()},h(){v(l,"class","fa fa-bullseye selectCorrect svelte-1aoqp36"),G(n,"display","inline"),G(i,"display","inline"),G(i,"width","70%"),v(i,"type","text"),v(i,"class","form-control"),v(e,"class","choice svelte-1aoqp36"),ne(e,"correct",t[32]===t[24].correct)},m(y,k){O(y,e,k),w(e,l),w(e,s),w(e,n),w(n,a),w(n,c),w(e,r),w(e,i),K(i,t[33].answer),u||(o=[V(l,"click",p),V(i,"input",L)],u=!0)},p(y,k){t=y,k[0]&1&&f!==(f=t[32]+"")&&de(a,f),k[0]&1&&i.value!==t[33].answer&&K(i,t[33].answer),k[0]&1&&ne(e,"correct",t[32]===t[24].correct)},d(y){y&&g(e),u=!1,re(o)}}}function Qe(t){let e,l,s,n,f="Blockable",a,c,r,i='<i class="fa fa-plus"></i>',u,o;function p(){t[17].call(l,t[25],t[26])}let L=W(t[24].selectors),y=[];for(let _=0;_<L.length;_+=1)y[_]=Ke(Ae(t,L,_));function k(){return t[21](t[24])}return{c(){e=C("div"),l=C("select"),s=C("option"),n=C("option"),n.textContent=f,a=S();for(let _=0;_<y.length;_+=1)y[_].c();c=S(),r=C("div"),r.innerHTML=i,this.h()},l(_){e=E(_,"DIV",{class:!0});var z=B(e);l=E(z,"SELECT",{name:!0,id:!0,class:!0});var h=B(l);s=E(h,"OPTION",{}),B(s).forEach(g),n=E(h,"OPTION",{"data-svelte-h":!0}),X(n)!=="svelte-13l11v0"&&(n.textContent=f),h.forEach(g),z.forEach(g),a=R(_);for(let m=0;m<y.length;m+=1)y[m].l(_);c=R(_),r=E(_,"DIV",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-1dbyeaw"&&(r.innerHTML=i),this.h()},h(){s.__value="",K(s,s.__value),n.__value="blockable",K(n,n.__value),v(l,"name",""),v(l,"id",""),v(l,"class","mode form-control"),t[24].selection_style===void 0&&_t(p),v(e,"class","mode-selector svelte-1aoqp36"),v(r,"class","btn btn-outline-info")},m(_,z){O(_,e,z),w(e,l),w(l,s),w(l,n),Me(l,t[24].selection_style,!0),O(_,a,z);for(let h=0;h<y.length;h+=1)y[h]&&y[h].m(_,z);O(_,c,z),O(_,r,z),u||(o=[V(l,"change",p),V(r,"click",k)],u=!0)},p(_,z){if(t=_,z[0]&1&&Me(l,t[24].selection_style),z[0]&81){L=W(t[24].selectors);let h;for(h=0;h<L.length;h+=1){const m=Ae(t,L,h);y[h]?y[h].p(m,z):(y[h]=Ke(m),y[h].c(),y[h].m(c.parentNode,c))}for(;h<y.length;h+=1)y[h].d(1);y.length=L.length}},d(_){_&&(g(e),g(a),g(c),g(r)),ce(y,_),u=!1,re(o)}}}function Je(t){let e,l,s,n,f,a;function c(){t[18].call(l,t[31],t[26])}function r(){return t[19](t[27],t[24],t[26])}return{c(){e=C("li"),l=C("input"),s=S(),n=C("i"),this.h()},l(i){e=E(i,"LI",{class:!0});var u=B(e);l=E(u,"INPUT",{type:!0,class:!0}),s=R(u),n=E(u,"I",{class:!0}),B(n).forEach(g),u.forEach(g),this.h()},h(){v(l,"type","text"),v(l,"class","form-control svelte-1aoqp36"),ne(l,"correct",t[26]===t[27].correct),v(n,"class","fa fa-bullseye selectCorrect svelte-1aoqp36"),v(e,"class","option svelte-1aoqp36")},m(i,u){O(i,e,u),w(e,l),K(l,t[30]),w(e,s),w(e,n),f||(a=[V(l,"input",c),V(n,"click",r)],f=!0)},p(i,u){t=i,u[0]&1&&l.value!==t[30]&&K(l,t[30]),u[0]&1&&ne(l,"correct",t[26]===t[27].correct)},d(i){i&&g(e),f=!1,re(a)}}}function Ke(t){let e,l,s,n,f,a=W(t[27].options),c=[];for(let i=0;i<a.length;i+=1)c[i]=Je(Pe(t,a,i));function r(){return t[20](t[27],t[24])}return{c(){e=C("li");for(let i=0;i<c.length;i+=1)c[i].c();l=S(),s=C("i"),this.h()},l(i){e=E(i,"LI",{class:!0});var u=B(e);for(let o=0;o<c.length;o+=1)c[o].l(u);l=R(u),s=E(u,"I",{class:!0}),B(s).forEach(g),u.forEach(g),this.h()},h(){v(s,"class","fa fa-plus"),v(e,"class","selector svelte-1aoqp36")},m(i,u){O(i,e,u);for(let o=0;o<c.length;o+=1)c[o]&&c[o].m(e,null);w(e,l),w(e,s),n||(f=V(s,"click",r),n=!0)},p(i,u){if(t=i,u[0]&65){a=W(t[27].options);let o;for(o=0;o<a.length;o+=1){const p=Pe(t,a,o);c[o]?c[o].p(p,u):(c[o]=Je(p),c[o].c(),c[o].m(e,l))}for(;o<c.length;o+=1)c[o].d(1);c.length=a.length}},d(i){i&&g(e),ce(c,i),n=!1,f()}}}function We(t){let e,l,s=t[26]+1+"",n,f,a,c,r,i,u,o,p,L,y,k,_;function z(){return t[12](t[24])}function h(...D){return t[13](t[24],t[25],t[26],...D)}i=new Ot({props:{html:t[24].question}}),i.$on("change",h);let m=t[24].question_type==="multiple-choice"&&Ge(t),H=t[24].question_type==="selector"&&Qe(t);return{c(){e=C("li"),l=C("div"),n=oe(s),f=S(),a=C("span"),c=S(),r=C("div"),ye(i.$$.fragment),u=S(),o=C("div"),m&&m.c(),p=S(),H&&H.c(),L=S(),this.h()},l(D){e=E(D,"LI",{class:!0});var I=B(e);l=E(I,"DIV",{class:!0});var U=B(l);n=ie(U,s),f=R(U),a=E(U,"SPAN",{class:!0}),B(a).forEach(g),U.forEach(g),c=R(I),r=E(I,"DIV",{class:!0});var N=B(r);we(i.$$.fragment,N),N.forEach(g),u=R(I),o=E(I,"DIV",{class:!0});var q=B(o);m&&m.l(q),p=R(q),H&&H.l(q),q.forEach(g),L=R(I),I.forEach(g),this.h()},h(){v(a,"class","fa fa-times delete-question"),v(l,"class","index svelte-1aoqp36"),v(r,"class","body"),v(o,"class","choices svelte-1aoqp36"),v(e,"class","question svelte-1aoqp36")},m(D,I){O(D,e,I),w(e,l),w(l,n),w(l,f),w(l,a),w(e,c),w(e,r),ke(i,r,null),w(e,u),w(e,o),m&&m.m(o,null),w(o,p),H&&H.m(o,null),w(e,L),y=!0,k||(_=V(a,"click",z),k=!0)},p(D,I){t=D;const U={};I[0]&1&&(U.html=t[24].question),i.$set(U),t[24].question_type==="multiple-choice"?m?m.p(t,I):(m=Ge(t),m.c(),m.m(o,p)):m&&(m.d(1),m=null),t[24].question_type==="selector"?H?H.p(t,I):(H=Qe(t),H.c(),H.m(o,null)):H&&(H.d(1),H=null)},i(D){y||(Y(i.$$.fragment,D),y=!0)},o(D){ee(i.$$.fragment,D),y=!1},d(D){D&&g(e),be(i),m&&m.d(),H&&H.d(),k=!1,_()}}}function Rt(t){let e,l='<i class="fa fa-left-arrow"></i>Go Back',s,n,f,a,c,r,i="Save",u,o,p,L,y,k,_,z="Add Choices",h,m,H,D="Add Selectors",I,U,N,q=t[0].folder&&t[0].folder.questions&&Fe(t);return{c(){e=C("div"),e.innerHTML=l,s=S(),n=C("input"),f=S(),a=C("textarea"),c=S(),r=C("div"),r.textContent=i,u=S(),o=C("div"),q&&q.c(),p=S(),L=C("div"),y=C("div"),k=C("div"),_=C("div"),_.textContent=z,h=S(),m=C("div"),H=C("div"),H.textContent=D,this.h()},l(M){e=E(M,"DIV",{class:!0,"data-svelte-h":!0}),X(e)!=="svelte-157sks2"&&(e.innerHTML=l),s=R(M),n=E(M,"INPUT",{type:!0,class:!0,style:!0}),f=R(M),a=E(M,"TEXTAREA",{name:!0,id:!0,cols:!0,rows:!0,class:!0}),B(a).forEach(g),c=R(M),r=E(M,"DIV",{class:!0,"data-svelte-h":!0}),X(r)!=="svelte-34qu9g"&&(r.textContent=i),u=R(M),o=E(M,"DIV",{class:!0});var d=B(o);q&&q.l(d),d.forEach(g),p=R(M),L=E(M,"DIV",{class:!0});var T=B(L);y=E(T,"DIV",{class:!0});var j=B(y);k=E(j,"DIV",{class:!0});var P=B(k);_=E(P,"DIV",{class:!0,"data-svelte-h":!0}),X(_)!=="svelte-10vo8sj"&&(_.textContent=z),P.forEach(g),h=R(j),m=E(j,"DIV",{class:!0});var F=B(m);H=E(F,"DIV",{class:!0,"data-svelte-h":!0}),X(H)!=="svelte-17hhk88"&&(H.textContent=D),F.forEach(g),j.forEach(g),T.forEach(g),this.h()},h(){v(e,"class","btn btn-outline-danger"),v(n,"type","text"),v(n,"class","form-control"),G(n,"font-size","42px"),G(n,"text-align","center"),v(a,"name",""),v(a,"id",""),v(a,"cols","20"),v(a,"rows","3"),v(a,"class","form-control description"),v(r,"class","btn btn-outline-success"),v(o,"class","questions"),v(_,"class","btn btn-warning"),v(k,"class","col-lg-6 col-md-6 col-sm-6"),v(H,"class","btn btn-warning"),v(m,"class","col-lg-6 col-md-6 col-sm-6"),v(y,"class","row"),v(L,"class","question adder svelte-1aoqp36")},m(M,d){O(M,e,d),O(M,s,d),O(M,n,d),K(n,t[0].title),O(M,f,d),O(M,a,d),K(a,t[0].description),O(M,c,d),O(M,r,d),O(M,u,d),O(M,o,d),q&&q.m(o,null),O(M,p,d),O(M,L,d),w(L,y),w(y,k),w(k,_),w(y,h),w(y,m),w(m,H),I=!0,U||(N=[V(e,"click",function(){vt(t[1])&&t[1].apply(this,arguments)}),V(n,"input",t[9]),V(a,"input",t[10]),V(a,"keyup",t[11]),V(r,"click",t[7]),V(_,"click",t[22]),V(H,"click",t[23])],U=!0)},p(M,d){t=M,d[0]&1&&n.value!==t[0].title&&K(n,t[0].title),d[0]&1&&K(a,t[0].description),t[0].folder&&t[0].folder.questions?q?(q.p(t,d),d[0]&1&&Y(q,1)):(q=Fe(t),q.c(),Y(q,1),q.m(o,null)):q&&(Ze(),ee(q,1,1,()=>{q=null}),$e())},i(M){I||(Y(q),I=!0)},o(M){ee(q),I=!1},d(M){M&&(g(e),g(s),g(n),g(f),g(a),g(c),g(r),g(u),g(o),g(p),g(L)),q&&q.d(),U=!1,re(N)}}}function St(t){const e=Object.keys(t),s="abcdefghijklmnopqrstuvwxyz".split("").find(n=>!e.includes(n));return s||(console.log("All letters are used."),null)}const Xe=(t,e)=>t[0].localeCompare(e[0]);function Dt(t,e,l){let{selectedGame:s}=e,{goBack:n}=e;Ye(async()=>{l(0,s=await Ie.get(`/games/${s.id}.json`)),console.log({selectedGame:s}),s.folder?s.folder.questions||l(0,s.folder.questions=[],s):l(0,s.folder={questions:[]},s)});function f(d,T){let j=St(d),P={};P[j]={answer:"Type Here",feedback:""};let F={...s};const x=F.folder.questions.findIndex(Z=>Z.id===T);F.folder.questions[x].choices={...d,...P},l(0,s=F),console.log(s.folder.questions[x])}function a(d,T){let j={...s};const P=j.folder.questions.findIndex(F=>F.id===d);j.folder.questions[P].correct=T,l(0,s=j)}function c(d,T){let j={...s};const P=j.folder.questions.findIndex(x=>x.id===T);let F=j.folder.questions[P].selectors.find(x=>x===d);F.options=[...F.options,"test"],l(0,s=j)}function r(d){let T={...s};const j=T.folder.questions.findIndex(P=>P.id===d);T.folder.questions[j].selectors=[...T.folder.questions[j].selectors,{options:["Empty"],correct:0}],console.log({updatedGame:T}),l(0,s=T)}function i(d,T,j){let P={...s};const F=P.folder.questions.findIndex(Z=>Z.id===T);let x=P.folder.questions[F].selectors.find(Z=>Z===d);x.correct=j,l(0,s=P)}async function u(){const d=await Ie.put(`/games/${s.id}.json`,s);console.log({res:d})}function o(d){let T={...s};T.folder.questions=T.folder.questions.filter(j=>j.id!==d.id),l(0,s=T)}function p(){s.title=this.value,l(0,s)}function L(){s.description=this.value,l(0,s)}const y=()=>{mt(`/games/${s.id}`,{description:s.description})},k=d=>o(d),_=(d,T,j,P)=>{const F=P.detail;l(0,T[j].question=F,s),console.log("saving value",F)},z=(d,T)=>a(d.id,T);function h(d,T){d[T][1].answer=this.value,l(0,s)}const m=d=>f(d.choices,d.id);function H(d,T){d[T].selection_style=pt(this),l(0,s)}function D(d,T){d[T]=this.value,l(0,s)}const I=(d,T,j)=>i(d,T.id,j),U=(d,T)=>c(d,T.id),N=d=>r(d.id),q=()=>{const d={question:"<p>Type Question Body...",choices:{},correct:"",question_type:"multiple-choice",id:Te(s.folder.questions)};l(0,s.folder.questions=[...s.folder.questions,d],s),console.log(s)},M=()=>{const d={question:"<p>Type Question Body...",selectors:[],question_type:"selector",id:Te(s.folder.questions.map(T=>T.id))};l(0,s.folder.questions=[...s.folder.questions,d],s),console.log(s)};return t.$$set=d=>{"selectedGame"in d&&l(0,s=d.selectedGame),"goBack"in d&&l(1,n=d.goBack)},[s,n,f,a,c,r,i,u,o,p,L,y,k,_,z,h,m,H,D,I,U,N,q,M]}class xt extends ve{constructor(e){super(),pe(this,e,Dt,Rt,_e,{selectedGame:0,goBack:1},null,[-1,-1])}}export{xt as E};
