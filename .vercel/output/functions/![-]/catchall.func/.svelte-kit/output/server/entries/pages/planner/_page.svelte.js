import { c as create_ssr_component, v as validate_component, e as each, d as escape } from "../../../chunks/ssr.js";
import "../../../chunks/api.js";
import moment from "moment";
const css$1 = {
  code: '.top-nav.svelte-9qx20t.svelte-9qx20t{padding:16px 16px 16px 40px;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between;background-color:rgb(255, 255, 255);border-bottom:1px solid rgb(231, 232, 234);border-top-color:rgb(231, 232, 234);border-right-color:rgb(231, 232, 234);border-left-color:rgb(231, 232, 234)}.top-nav.svelte-9qx20t .head.svelte-9qx20t{height:48px;display:flex;-webkit-box-align:center;align-items:center;font-weight:700;font-size:1.5rem;line-height:1.4;font-family:"Avenir Next", sans-serif;margin-right:16px;cursor:pointer}.hori-divider.svelte-9qx20t.svelte-9qx20t{padding-left:16px;margin-top:-16px;margin-bottom:-16px;height:74px;border-right:1px solid rgb(231, 232, 234);border-top-color:rgb(231, 232, 234);border-bottom-color:rgb(231, 232, 234);border-left-color:rgb(231, 232, 234)}',
  map: '{"version":3,"file":"Nav.svelte","sources":["Nav.svelte"],"sourcesContent":["<script><\/script>\\n\\n    <div class=\\"top-nav\\">\\n        <div class=\\"head\\">\\n\\n            <span>Sessions Planner</span>\\n            <!-- <div class=\\"arrow-space\\"></div>\\n            <div class=\\"left-arrow arrow\\"><div class=\\"\\"><svg xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"20px\\" height=\\"20px\\" fill=\\"#626872\\" viewBox=\\"0 0 256 256\\"><path d=\\"M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z\\"></path></svg></div></div>\\n            <div class=\\"arrow-space\\"></div>\\n            <div class=\\"right-arrow arrow\\"><div class=\\"\\"><svg xmlns=\\"http://www.w3.org/2000/svg\\" width=\\"20px\\" height=\\"20px\\" fill=\\"#626872\\" viewBox=\\"0 0 256 256\\"><path d=\\"M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z\\"></path></svg></div></div> -->\\n        </div>\\n\\n\\n        <div class=\\"hori-divider\\"></div>\\n    </div>\\n\\n    <style>\\n\\n    .top-nav {\\n        padding: 16px 16px 16px 40px;\\n        display: flex;\\n        -webkit-box-align: center;\\n        align-items: center;\\n        -webkit-box-pack: justify;\\n        justify-content: space-between;\\n        background-color: rgb(255, 255, 255);\\n        border-bottom: 1px solid rgb(231, 232, 234);\\n        border-top-color: rgb(231, 232, 234);\\n        border-right-color: rgb(231, 232, 234);\\n        border-left-color: rgb(231, 232, 234);\\n    }\\n\\n    .top-nav .head {\\n        height: 48px;\\n        display: flex;\\n        -webkit-box-align: center;\\n        align-items: center;\\n        font-weight: 700;\\n        font-size: 1.5rem;\\n        line-height: 1.4;\\n        font-family: \\"Avenir Next\\", sans-serif;\\n        margin-right: 16px;\\n        cursor: pointer;\\n    }\\n\\n    .left-arrow {\\n        cursor: pointer;\\n        box-sizing: border-box;\\n        border: 1px solid transparent;\\n        border-radius: 4px;\\n        padding: 4px;\\n    }\\n\\n    .left-arrow > div {\\n        line-height: 0;\\n        width: 20px;\\n        height: 20px;\\n    }\\n\\n    .arrow-space {\\n        padding-left: 4px;\\n        padding-right: 4px;\\n    }\\n\\n    .right-arrow {\\n        cursor: pointer;\\n        box-sizing: border-box;\\n        border: 1px solid transparent;\\n        border-radius: 4px;\\n        padding: 4px;\\n    }\\n\\n    .right-arrow > div {\\n        line-height: 0;\\n        width: 20px;\\n        height: 20px;\\n    }\\n\\n    .hori-divider {\\n        padding-left: 16px;\\n        margin-top: -16px;\\n        margin-bottom: -16px;\\n        height: 74px;\\n        border-right: 1px solid rgb(231, 232, 234);\\n        border-top-color: rgb(231, 232, 234);\\n        border-bottom-color: rgb(231, 232, 234);\\n        border-left-color: rgb(231, 232, 234);\\n    }\\n\\n    .arrow:hover {\\n        background-color: rgb(250, 250, 250);\\n        border-color: rgb(231, 232, 234);\\n    }\\n\\n</style>"],"names":[],"mappings":"AAkBI,oCAAS,CACL,OAAO,CAAE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAC5B,OAAO,CAAE,IAAI,CACb,iBAAiB,CAAE,MAAM,CACzB,WAAW,CAAE,MAAM,CACnB,gBAAgB,CAAE,OAAO,CACzB,eAAe,CAAE,aAAa,CAC9B,gBAAgB,CAAE,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACpC,aAAa,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAC3C,gBAAgB,CAAE,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACpC,kBAAkB,CAAE,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACtC,iBAAiB,CAAE,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CACxC,CAEA,sBAAQ,CAAC,mBAAM,CACX,MAAM,CAAE,IAAI,CACZ,OAAO,CAAE,IAAI,CACb,iBAAiB,CAAE,MAAM,CACzB,WAAW,CAAE,MAAM,CACnB,WAAW,CAAE,GAAG,CAChB,SAAS,CAAE,MAAM,CACjB,WAAW,CAAE,GAAG,CAChB,WAAW,CAAE,aAAa,CAAC,CAAC,UAAU,CACtC,YAAY,CAAE,IAAI,CAClB,MAAM,CAAE,OACZ,CAmCA,yCAAc,CACV,YAAY,CAAE,IAAI,CAClB,UAAU,CAAE,KAAK,CACjB,aAAa,CAAE,KAAK,CACpB,MAAM,CAAE,IAAI,CACZ,YAAY,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAC1C,gBAAgB,CAAE,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACpC,mBAAmB,CAAE,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CACvC,iBAAiB,CAAE,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CACxC"}'
};
const Nav = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  $$result.css.add(css$1);
  return `<div class="top-nav svelte-9qx20t" data-svelte-h="svelte-y8tbgf"><div class="head svelte-9qx20t"><span>Sessions Planner</span> </div> <div class="hori-divider svelte-9qx20t"></div> </div>`;
});
const css = {
  code: ".days.svelte-njyoz6.svelte-njyoz6{display:flex}.days.svelte-njyoz6>li.svelte-njyoz6{flex:1 1 13%}.students.svelte-njyoz6.svelte-njyoz6{margin:2em}.student.svelte-njyoz6.svelte-njyoz6{padding:14px;border:4px solid rgb(232, 232, 255)\n    }.student.svelte-njyoz6 .name.svelte-njyoz6{font-size:28px}.day-name.svelte-njyoz6.svelte-njyoz6{text-align:center;background:#ccc;padding:10px}.slots.svelte-njyoz6.svelte-njyoz6{padding:10px 0}.slot.svelte-njyoz6.svelte-njyoz6{position:relative}.booker.svelte-njyoz6.svelte-njyoz6{position:absolute;background:#fff;padding:14px;width:250px;border:1px solid #0dcbf0;left:-30%}.card-title.svelte-njyoz6.svelte-njyoz6{font-size:14px}.card-teacher.svelte-njyoz6.svelte-njyoz6{font-size:18px}.card.svelte-njyoz6.svelte-njyoz6{display:block}",
  map: `{"version":3,"file":"Index.svelte","sources":["Index.svelte"],"sourcesContent":["<script>\\nimport API from \\"$lib/api/api\\";\\n\\nimport { onMount } from \\"svelte\\";\\n        import moment from \\"moment\\";\\n\\n    import Nav from \\"./Nav.svelte\\"\\n\\n    let students = null;\\n    onMount(async () => {\\n        students = await API.get(\\"/meetings/plan/weekly.json\\")\\n        console.log({students})\\n    })\\n\\n    let selectedSlot = null;\\n    async function bookMeeting(day, slot) {\\n        selectedSlot = {day, slot}\\n        const res = await API.get(\`/time_slots/\${slot.id}/bookables.json\`);\\n        console.log({res})\\n        selectedSlot.options = res\\n    }\\n\\n    async function createMeeting(option, student) {\\n        console.log({option})\\n        const response = await API.post('/meetings/generate', {\\n            option: option,\\n            student: student\\n        })\\n        console.log({response})\\n        selectedSlot = null;\\n    }\\n    \\n<\/script>\\n\\n<Nav></Nav>\\n<!-- <h1>HI</h1> -->\\n\\n<ul class=\\"clean-list students\\">\\n    {#each students || [] as obj}\\n        <li class=\\"student\\">\\n            <div class=\\"name\\">{obj.student.first_name}  {obj.student.last_name}</div>\\n            <hr>\\n            <ul class=\\"clean-list days\\">\\n                {#each ['monday', 'tuesday', \\"wednesday\\", \\"thursday\\", \\"friday\\", \\"saturday\\", \\"sunday\\"] as day}\\n                    <li>\\n                        <div class=\\"day-name\\">\\n                            {day}\\n                        </div>\\n                        <div class=\\"slots\\">\\n                            {#each obj.slots.filter(slot => slot.day_name === day) as slot}\\n                                <div class=\\"slot\\">\\n                                    <div class=\\"btn btn-info\\" on:click={() => bookMeeting(day, slot)}>{moment(slot.start_time).format('h:mm a')} - {moment(slot.end_time).format('h:mm a')}</div>\\n                                    {#if selectedSlot && selectedSlot.slot.id === slot.id}\\n                                        <div class=\\"booker\\">\\n                                            {#if selectedSlot.options}\\n                                            <ul class=\\"cards clean-list\\">\\n\\n                                                {#each selectedSlot.options as option}\\n                                                    <li class=\\"btn btn-outline-primary btn-block card\\" on:click={() => createMeeting(option, obj.student)}>\\n                                                        <div class=\\"card-teacher\\">{option.teacher.first_name + \\" \\"+ option.teacher.last_name}</div>\\n                                                        <div class=\\"card-title\\">{option.card.title}</div>\\n                                                        <div class=\\"card-time\\">{option.time}</div>\\n                                                    </li>\\n                                                {/each}\\n                                            </ul>\\n                                            {/if}\\n                                        </div>\\n                                    {/if}\\n                                </div>\\n                            {/each}\\n                        </div>\\n\\n                    </li>\\n                {/each}\\n            </ul>\\n        </li>\\n    {/each}\\n</ul>\\n\\n<style>\\n\\n    .days {\\n        display: flex;\\n    }\\n\\n    .days > li {\\n        flex: 1 1 13%;\\n    }\\n    .students {\\n        margin: 2em;\\n    }\\n    .student {\\n        padding: 14px;\\n        border: 4px solid rgb(232, 232, 255)\\n    }\\n    .student .name {\\n        font-size: 28px;\\n    }\\n\\n    .day-name {\\n        text-align: center;\\n        background: #ccc;\\n        padding: 10px;\\n    }\\n    .slots {\\n        padding: 10px 0;\\n    }\\n\\n    .slot {\\n        position: relative;\\n    }\\n\\n    .booker {\\n        position: absolute;\\n    background: #fff;\\n    padding: 14px;\\n    width: 250px;\\n    border: 1px solid #0dcbf0;\\n    left: -30%;\\n    }\\n\\n    .card-title {\\n        font-size: 14px;\\n    }\\n\\n    .card-teacher {\\n        font-size: 18px;\\n    }\\n\\n    .card {\\n        display: block;\\n    }\\n</style>"],"names":[],"mappings":"AAiFI,iCAAM,CACF,OAAO,CAAE,IACb,CAEA,mBAAK,CAAG,gBAAG,CACP,IAAI,CAAE,CAAC,CAAC,CAAC,CAAC,GACd,CACA,qCAAU,CACN,MAAM,CAAE,GACZ,CACA,oCAAS,CACL,OAAO,CAAE,IAAI,CACb,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG;AAC3C,IAAI,CACA,sBAAQ,CAAC,mBAAM,CACX,SAAS,CAAE,IACf,CAEA,qCAAU,CACN,UAAU,CAAE,MAAM,CAClB,UAAU,CAAE,IAAI,CAChB,OAAO,CAAE,IACb,CACA,kCAAO,CACH,OAAO,CAAE,IAAI,CAAC,CAClB,CAEA,iCAAM,CACF,QAAQ,CAAE,QACd,CAEA,mCAAQ,CACJ,QAAQ,CAAE,QAAQ,CACtB,UAAU,CAAE,IAAI,CAChB,OAAO,CAAE,IAAI,CACb,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,OAAO,CACzB,IAAI,CAAE,IACN,CAEA,uCAAY,CACR,SAAS,CAAE,IACf,CAEA,yCAAc,CACV,SAAS,CAAE,IACf,CAEA,iCAAM,CACF,OAAO,CAAE,KACb"}`
};
const Index = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  $$result.css.add(css);
  return `${validate_component(Nav, "Nav").$$render($$result, {}, {}, {})}  <ul class="clean-list students svelte-njyoz6">${each([], (obj) => {
    return `<li class="student svelte-njyoz6"><div class="name svelte-njyoz6">${escape(obj.student.first_name)} ${escape(obj.student.last_name)}</div> <hr> <ul class="clean-list days svelte-njyoz6">${each(["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"], (day) => {
      return `<li class="svelte-njyoz6"><div class="day-name svelte-njyoz6">${escape(day)}</div> <div class="slots svelte-njyoz6">${each(obj.slots.filter((slot) => slot.day_name === day), (slot) => {
        return `<div class="slot svelte-njyoz6"><div class="btn btn-info">${escape(moment(slot.start_time).format("h:mm a"))} - ${escape(moment(slot.end_time).format("h:mm a"))}</div> ${``} </div>`;
      })}</div> </li>`;
    })}</ul> </li>`;
  })} </ul>`;
});
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `${validate_component(Index, "SessionsPlanner").$$render($$result, {}, {}, {})}`;
});
export {
  Page as default
};
